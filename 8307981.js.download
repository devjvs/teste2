!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7dbce1a0-1f66-4f9d-9f76-7491f2548154",e._sentryDebugIdIdentifier="sentry-dbid-7dbce1a0-1f66-4f9d-9f76-7491f2548154")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"adc824a88acfca7c809986bdbc5f5b4c56b3b966"},(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{1015:function(e,t,r){var content=r(1027);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(31).default)("bb51938e",content,!0,{sourceMap:!1})},1016:function(e,t,r){"use strict";r(22);var n=r(2);r(6),r(7),r(8),r(9),r(20),r(19),r(49),r(25),r(26),r(18),r(5),r(17);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={name:"Tooltip",components:{Portal:r(82).a},props:{title:{type:String,default:null},placement:{type:String,default:"auto",validator:function(e){return["auto","top","bottom","left","right"].includes(e)}},variant:{type:String,default:"primary",validator:function(e){return["primary","white","dark"].includes(e)}},boxWidth:{type:String,default:"115px"},usePortal:{type:Boolean,default:!1}},data:function(){return{isHovered:!1,tooltipStyle:{},realPlacement:this.placement}},computed:{cssProps:function(){return{"--box-width":this.boxWidth}},tooltipComputedStyle:function(){return c(c({},this.tooltipStyle),{},{width:this.boxWidth})}},watch:{isHovered:function(e){var t=this;e&&this.$nextTick((function(){t.$nextTick((function(){t.updatePositions()}))}))}},methods:{removeAllTitleElements:function(){document.querySelectorAll("[title]").forEach((function(e){e.setAttribute("data-title",e.getAttribute("title")),e.removeAttribute("title")}))},addAllTitleElements:function(){document.querySelectorAll("[data-title]").forEach((function(e){e.setAttribute("title",e.getAttribute("data-title")),e.removeAttribute("data-title")}))},getDimensions:function(e){var t;return(null===(t=this.$refs[e])||void 0===t?void 0:t.getBoundingClientRect())||{width:0,height:0,top:0,right:0,bottom:0,left:0}},determineAutoPlacement:function(){var e=this.getDimensions("wrapper"),t=this.getDimensions("tooltip"),r=t.width,n=t.height,o=e.bottom+n<window.innerHeight,c=e.top-n>0,l=e.right+r<window.innerWidth,d=e.left-r>0,f=e.left+(e.width-r)/2>0&&e.left+(e.width+r)/2<window.innerWidth;return o&&f?"bottom":c&&f?"top":l?"right":d?"left":"bottom"},getPositions:function(){var e=this.getDimensions("wrapper"),t=this.getDimensions("tooltip"),r="auto"===this.placement?this.determineAutoPlacement():this.placement;this.realPlacement=r;var n={};switch(r){case"bottom":n={top:e.height,left:(e.width-t.width)/2};break;case"top":n={top:-t.height,left:(e.width-t.width)/2};break;case"right":n={top:(e.height-t.height)/2,left:e.width};break;case"left":n={top:(e.height-t.height)/2,left:-t.width};break;default:return console.error('Placement "'.concat(r,'" not implemented')),{top:0,left:0}}return this.usePortal&&(n={top:e.top+n.top,left:e.left+n.left}),n},updatePositions:function(){var e=this.getPositions(),t=e.top,r=e.left;this.tooltipStyle={top:t+"px",left:r+"px",position:this.usePortal?"fixed":"absolute"}},onMouseEnter:function(){this.isHovered=!0,this.removeAllTitleElements()},onMouseLeave:function(){this.isHovered=!1,this.addAllTitleElements()}}},d=(r(1026),r(12)),component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",e._g({ref:"wrapper",staticClass:"relative",style:e.cssProps,on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},e.$listeners),[e._t("default"),e._v(" "),e.usePortal?t("Portal",{attrs:{to:"root-portal"}},[e.isHovered?t("div",{ref:"tooltip",class:"tooltip-box v-".concat(e.variant," placement-").concat(e.realPlacement," absolute whitespace-normal p-2 text-sm text-center pointer-events-none select-none rounded-md box-content"),style:e.tooltipComputedStyle},[e.title?t("span",[e._v(e._s(e.title))]):e._t("title")],2):e._e()]):e._e(),e._v(" "),!e.usePortal&&e.isHovered?t("div",{ref:"tooltip",class:"tooltip-box v-".concat(e.variant," placement-").concat(e.realPlacement," absolute whitespace-normal p-2 text-sm text-center pointer-events-none select-none rounded-md box-content"),style:e.tooltipStyle},[e.title?t("span",[e._v(e._s(e.title))]):e._t("title")],2):e._e()],2)}),[],!1,null,"1cf84ca2",null);t.a=component.exports},1026:function(e,t,r){"use strict";r(1015)},1027:function(e,t,r){var n=r(30)((function(i){return i[1]}));n.push([e.i,'.tooltip-box[data-v-1cf84ca2]{\n  color:#333;\n  z-index:100000000;\n  width:var(--box-width);\n  line-height:1.5em;\n  position:absolute\n}\n.tooltip-box[data-v-1cf84ca2]::after{\n  content:"";\n  position:absolute;\n  width:.75rem;\n  height:.75rem;\n  transform:rotate(45deg);\n  z-index:9999\n}\n.tooltip-box.v-white[data-v-1cf84ca2]{\n  background-color:var(--c-color-white);\n  border:solid 1px rgba(0,0,0,.3)\n}\n.tooltip-box.v-white[data-v-1cf84ca2]::after{\n  background:var(--c-color-white)\n}\n.tooltip-box.v-primary[data-v-1cf84ca2]{\n  background-color:var(--c-color-primary-300);\n  color:var(--c-color-white)\n}\n.tooltip-box.v-primary[data-v-1cf84ca2]::after{\n  background:var(--c-color-primary-300)\n}\n.tooltip-box.v-dark[data-v-1cf84ca2]{\n  background-color:var(--body-text);\n  color:var(--c-color-white)\n}\n.tooltip-box.v-dark[data-v-1cf84ca2]::after{\n  background:var(--body-text)\n}\n.tooltip-box.placement-bottom[data-v-1cf84ca2]{\n  margin-top:.375rem\n}\n.tooltip-box.placement-bottom[data-v-1cf84ca2]::after{\n  top:-0.375rem;\n  left:calc(50% - .375rem)\n}\n.tooltip-box.placement-top[data-v-1cf84ca2]{\n  margin-top:-0.375rem\n}\n.tooltip-box.placement-top[data-v-1cf84ca2]::after{\n  bottom:-0.375rem;\n  left:calc(50% - .375rem)\n}\n.tooltip-box.placement-right[data-v-1cf84ca2]{\n  margin-left:.375rem\n}\n.tooltip-box.placement-right[data-v-1cf84ca2]::after{\n  left:-0.375rem;\n  top:calc(50% - .375rem)\n}\n.tooltip-box.placement-left[data-v-1cf84ca2]{\n  margin-left:-0.375rem\n}\n.tooltip-box.placement-left[data-v-1cf84ca2]::after{\n  right:-0.375rem;\n  top:calc(50% - .375rem)\n}',""]),n.locals={},e.exports=n},1061:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return m}));r(6),r(7),r(8),r(9);var n=r(102),o=r.n(n),c=r(1084),l=r.n(c);o.a.extend(l.a);var d=function(e){return o()(e).format("DD/MM/YYYY")},f=function(e){return o.a.utc(e).format("DD/MM/YYYY")},m=function(e){return o()(e).year()}},1084:function(e,t,r){e.exports=function(){"use strict";var e="minute",i=/[+-]\d\d(?::?\d\d)?/g,t=/([+-]|\d\d)/g;return function(s,r,n){var u=r.prototype;n.utc=function(e){return new r({date:e,utc:!0,args:arguments})},u.utc=function(i){var t=n(this.toDate(),{locale:this.$L,utc:!0});return i?t.add(this.utcOffset(),e):t},u.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var o=u.parse;u.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var c=u.init;u.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var a=u.utcOffset;u.utcOffset=function(s,r){var n=this.$utils().u;if(n(s))return this.$u?0:n(this.$offset)?a.call(this):this.$offset;if("string"==typeof s&&null===(s=function(e){void 0===e&&(e="");var s=e.match(i);if(!s)return null;var r=(""+s[0]).match(t)||["-",0,0],n=r[0],u=60*+r[1]+ +r[2];return 0===u?0:"+"===n?u:-u}(s)))return this;var u=Math.abs(s)<=16?60*s:s,o=this;if(r)return o.$offset=u,o.$u=0===s,o;if(0!==s){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(u+c,e)).$offset=u,o.$x.$localOffset=c}else o=this.utc();return o};var l=u.format;u.format=function(e){var i=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,i)},u.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*e},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var d=u.toDate;u.toDate=function(e){return"s"===e&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=u.diff;u.diff=function(e,i,t){if(e&&this.$u===e.$u)return f.call(this,e,i,t);var s=this.local(),r=n(e).local();return f.call(s,r,i,t)}}}()},1100:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return l}));var n=r(23),o=(r(6),r(7),r(8),r(9),r(22),r(24),r(390),r(5),r(21),r(39),r(43),r(17),function(e){return e.reduce((function(e,t){var r,o=!1;return(null===(r=e)||void 0===r?void 0:r.length)>0&&e.forEach((function(e){e.id===t.id&&(o=!0)})),e=o?Object(n.a)(e):[].concat(Object(n.a)(e),[t])}),[])}),c=function(e){return e?(e/100/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:12)).toFixed(2).toString().replace(".",","):"0"},l=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().toLowerCase().replace(/[àÀáÁâÂãäÄÅåª]+/g,"a").replace(/[èÈéÉêÊëË]+/g,"e").replace(/[ìÌíÍîÎïÏ]+/g,"i").replace(/[òÒóÓôÔõÕöÖº]+/g,"o").replace(/[ùÙúÚûÛüÜ]+/g,"u").replace(/[ýÝÿŸ]+/g,"y").replace(/[ñÑ]+/g,"n").replace(/[çÇ]+/g,"c").replace(/[ß]+/g,"ss").replace(/[Ææ]+/g,"ae").replace(/[Øøœ]+/g,"oe").replace(/[%]+/g,"pct").replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}},1568:function(e,t,r){var content=r(1743);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(31).default)("65486093",content,!0,{sourceMap:!1})},1742:function(e,t,r){"use strict";r(1568)},1743:function(e,t,r){var n=r(30)((function(i){return i[1]}));n.push([e.i,".lesson-forum-drawer-wrapper[data-v-7657b710] {\n  width: 35vw;\n}\n.lesson-forum-drawer-backdrop[data-v-7657b710] {\n  background-color: rgba(34, 34, 34, 0.8);\n}\n.drawer-slide-enter-active[data-v-7657b710],\n.drawer-slide-leave-active[data-v-7657b710] {\n  transition: all 0.3s;\n}\n.drawer-slide-enter[data-v-7657b710],\n.drawer-slide-leave-to[data-v-7657b710] {\n  transform: translateX(100%);\n}\n.backdrop-animation-enter-active[data-v-7657b710],\n.backdrop-animation-leave-active[data-v-7657b710] {\n  transition: all 0.3s;\n}\n.backdrop-animation-enter[data-v-7657b710],\n.backdrop-animation-leave-to[data-v-7657b710] {\n  background-color: rgba(34, 34, 34, 0);\n}\n.box-inset-separator[data-v-7657b710] {\n  box-shadow: inset 0 -0.063rem 0 rgba(153, 153, 153, 0.24);\n}\n",""]),n.locals={},e.exports=n},1768:function(e,t,r){"use strict";r(20),r(52),r(57),r(19),r(62),r(44),r(24),r(25),r(26),r(18),r(5),r(35),r(17),r(32);var n=r(23),o=r(0),c=r(2),l=(r(6),r(7),r(8),r(9),r(22),r(49),r(108),r(21),r(39),r(53),r(43),r(73),r(15),r(13)),d=r(29),f=r(1073),m=r(1072),h=r(1039);function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,a){if(e){if("string"==typeof e)return C(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,c=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw c}}}}function C(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=Array(a);t<a;t++)r[t]=e[t];return r}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={name:"LessonForumDrawer",components:{CIcon:l.r,CommentEditor:f.a,CommentThread:m.a},props:{isOpen:{type:Boolean,default:!1},forumId:{type:String,required:!0},lessonId:{type:String,default:""},title:{type:String,default:""},enableDiscussion:{type:Boolean,default:!0},customComments:{type:Array,default:function(){return[]}},contextComment:{type:Object,default:function(){}}},data:function(){return{comments:[],allCommentsLoaded:!1,loading:!0,repliedComment:null,editedComment:null,page:1,total:0}},computed:{titleText:function(){return this.loading?"Carregando comentários...":this.title?this.title:1===this.total?"1 comentário":"".concat(this.total," comentários")}},watch:{isOpen:function(e){e&&this.fetchComents()}},mounted:function(){this.fetchComents()},methods:y(y({},Object(d.b)("global",["handleModal"])),{},{fetchComents:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.comments=[],e.page=1,e.allCommentsLoaded=!1,e.loading=!0,!e.enableDiscussion){t.next=13;break}return t.next=7,e.$services.comments.getComments(e.forumId);case 7:r=t.sent,data=r.data,e.comments=data.data,e.total=data.pagination.total,t.next=15;break;case 13:e.comments=e.customComments,e.total=e.customComments.length;case 15:e.loading=!1;case 16:case"end":return t.stop()}}),t)})))()},fetchNextPage:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,c,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.loading&&!e.allCommentsLoaded){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,e.$services.comments.getComments(e.forumId,{page:e.page+1});case 6:if(c=t.sent,null!=(data=c.data)&&null!==(r=data.data)&&void 0!==r&&r.length){t.next=10;break}throw new Error("No more comments to be loaded");case 10:(o=e.comments).push.apply(o,Object(n.a)(data.data)),e.page++,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),e.allCommentsLoaded=!0;case 17:e.loading=!1;case 18:case"end":return t.stop()}}),t,null,[[3,14]])})))()},handleCommentAttachments:function(e,content){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=v(null==content?void 0:content.attachedFiles),r.prev=1,n.s();case 3:if((o=n.n()).done){r.next=14;break}if(null==(c=o.value)||!c.file_url){r.next=10;break}if(null==c||!c.shouldRemove){r.next=9;break}return r.next=9,t.$services.comments.removeAttachment(e,c);case 9:return r.abrupt("continue",12);case 10:return r.next=12,t.$services.comments.putAttachment(e,c);case 12:r.next=3;break;case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(1),n.e(r.t0);case 19:return r.prev=19,n.f(),r.finish(19);case 22:case"end":return r.stop()}}),r,null,[[1,16,19,22]])})))()},handleCommentSubmit:function(content){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,path,link,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(content.textContent&&content.textContent.trim().length>0)){t.next=29;break}if(t.prev=2,!e.editedComment){t.next=10;break}return r=e.editedComment.id,t.next=7,e.$services.comments.editComment(e.editedComment.id,content.body);case 7:e.editedComment=null,t.next=16;break;case 10:return path=window.location.pathname.replace(/^\/+/g,""),link="https://".concat(Object(h.a)(e.$vertical),"/").concat(path,"?lesson_id=").concat(e.lessonId),t.next=14,e.$services.coursesForum.createComment(content.body,e.forumId,content.commentID,link);case 14:c=t.sent,r=null==c||null===(n=c.data)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.id;case 16:return t.next=18,e.handleCommentAttachments(r,content);case 18:e.fetchComents(),content.onSuccess&&content.onSuccess(),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(2),e.$toast.show({type:"error",text:"Ocorreu um erro, tente novamente mais tarde.",handler:function(){e.$toast.hide()}}),e.handleCommentError(content,t.t0);case 26:return t.prev=26,content.onFinally&&content.onFinally(),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[2,22,26,29]])})))()},handleCommentError:function(content,e){var t;if(null!=e&&null!==(t=e.tag)&&void 0!==t&&t.includes("BAD_WORDS")){var r=content.textContent;if(e.meta){var n,o=v(e.meta);try{for(o.s();!(n=o.n()).done;){var c=n.value,l=new RegExp(c,"g");r=r.replace(l,'<span contenteditable=false class="comment-highlight-error">'.concat(c,"</span>"))}}catch(e){o.e(e)}finally{o.f()}}return content.repopulateField(r),void this.$emit("unclean-comment")}throw e},commentDeepInsert:function(content){},handleLike:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$services.comments.likeComment(e);case 2:t.fetchComents();case 3:case"end":return r.stop()}}),r)})))()},handleDislike:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$services.comments.dislikeComment(e);case 2:t.fetchComents();case 3:case"end":return r.stop()}}),r)})))()},handlerDelete:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$services.comments.deleteComment(e);case 2:t.fetchComents();case 3:case"end":return r.stop()}}),r)})))()},handleEdit:function(e){this.editedComment=e},handleReport:function(e){this.handleModal({name:"ModalReport",handleOverlay:this.handleModal,commentID:e})},handleReply:function(e){this.repliedComment=e},handleScroll:function(e){if(this.enableDiscussion){var element=e.target;element.offsetHeight+element.scrollTop>=element.scrollHeight&&this.fetchNextPage()}}})},_=(r(1742),r(12)),component=Object(_.a)(w,(function(){var e=this,t=e._self._c;return t("div",[t("transition",{attrs:{name:"backdrop-animation"}},[e.isOpen?t("div",{staticClass:"flex fixed right-0 top-0 h-screen w-screen lesson-forum-drawer-backdrop z-50",on:{click:function(t){return t.stopPropagation(),e.$emit("close")}}}):e._e()]),e._v(" "),t("transition",{attrs:{name:"drawer-slide"}},[e.isOpen?t("div",{staticClass:"lesson-forum-drawer-wrapper flex flex-col fixed right-0 top-0 h-screen bg-white z-50 overflow-y-scroll",on:{scroll:e.handleScroll}},[t("header",{staticClass:"box-inset-separator flex flex-row justify-between items-center px-8 py-6 w-full c-text-primary-300"},[t("div",{staticClass:"c-text-subtitle"},[e._v("\n          "+e._s(e.titleText)+"\n        ")]),e._v(" "),t("button",{staticStyle:{outline:"0"},on:{click:function(t){return t.stopPropagation(),e.$emit("close")}}},[t("c-icon",{attrs:{name:"close",color:"#999",width:"24"}})],1)]),e._v(" "),e.enableDiscussion?t("div",{staticClass:"box-inset-separator p-8 w-full"},[t("comment-editor",{attrs:{"replied-comment":e.repliedComment,"edited-comment":e.editedComment,"context-comment":e.contextComment},on:{submit:e.handleCommentSubmit,"cancel-reply":function(t){e.repliedComment=null},"cancel-edit":function(t){e.editedComment=null}}})],1):e._e(),e._v(" "),t("div",{staticClass:"flex flex-col p-8 w-full"},e._l(e.comments,(function(r){return t("comment-thread",{key:r.id,attrs:{comment:r,"show-material-link":!1,"enable-like-reply":e.enableDiscussion},on:{"click-like":e.handleLike,"click-edit":e.handleEdit,"click-dislike":e.handleDislike,"click-reply":e.handleReply,"click-report":e.handleReport,"click-delete":e.handlerDelete}})})),1)]):e._e()])],1)}),[],!1,null,"7657b710",null);t.a=component.exports},2081:function(e,t,r){var content=r(2854);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(31).default)("1f85c5f1",content,!0,{sourceMap:!1})},2853:function(e,t,r){"use strict";r(2081)},2854:function(e,t,r){var n=r(30)((function(i){return i[1]}));n.push([e.i,".bg-gray[data-v-686fda50]{\n  background-color:#f1f1f1\n}\n.border-b[data-v-686fda50],.border-t[data-v-686fda50]{\n  border-color:#ddd\n}\n.hover\\:bg-gray[data-v-686fda50]:hover,.hover\\:bg-gray:hover .bg-gray[data-v-686fda50]{\n  background-color:#ccc\n}\n.current-material[data-v-686fda50],.current-material .bg-gray[data-v-686fda50]{\n  background-color:#dadada\n}\n.text-ellipsis[data-v-686fda50]{\n  text-overflow:ellipsis;\n  overflow:hidden;\n  min-width:0;\n  white-space:nowrap\n}\n.loading-icon[data-v-686fda50]{\n  margin-top:5px;\n  width:25px;\n  height:25px;\n  margin-right:4px;\n  margin-left:24px\n}\n.loading-aula-done[data-v-686fda50]{\n  width:110px;\n  height:24px\n}\n.icon-checkbox[data-v-686fda50]{\n  margin-top:-0.3rem\n}\n.border-2[data-v-686fda50]{\n  border:2px solid #000\n}\n.border-gray[data-v-686fda50]{\n  border-color:#ccc\n}\n.outer-icon-material[data-v-686fda50]{\n  width:2.5rem;\n  height:2.5rem\n}\n.inner-icon-material[data-v-686fda50]{\n  width:2.1rem;\n  height:2.1rem\n}\n.bg-black[data-v-686fda50] video{\n  background-color:#000\n}\n.pill__container--opacity[data-v-686fda50]{\n  opacity:.9\n}",""]),n.locals={},e.exports=n},2974:function(e,t,r){"use strict";r.r(t);r(6),r(7),r(8),r(9),r(20),r(52),r(24),r(57),r(19),r(62),r(25),r(26);var n=r(0),o=r(2),c=(r(15),r(134),r(49),r(38),r(44),r(93),r(18),r(5),r(149),r(21),r(39),r(53),r(35),r(43),r(1024),r(17),r(32),r(60),r(80),r(13)),l=r(29),d=r(135),f={name:"ClassContentEmptyState"},m=r(12),h=Object(m.a)(f,(function(){var e=this,t=e._self._c;return t("svg",{attrs:{width:"706",height:"384",viewBox:"0 0 706 384",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{opacity:"0.48"}},[t("path",{attrs:{opacity:"0.08",d:"M698.203 352.89C695.464 359.557 692.095 365.953 688.143 371.995C686.286 374.877 684.251 377.642 682.048 380.275L681.981 380.354H0.623047L0.745665 380.269C1.35876 379.796 4.9576 376.917 10.5551 371.989C14.5709 368.449 19.6105 363.855 25.2693 358.327C71.5515 313.322 160.456 206.795 86.4128 109.208C17.5811 18.4881 91.6915 2.01951 140.579 0.104141C159.364 -0.616827 178.103 2.41145 195.678 9.00819C218.258 17.494 259.537 30.5076 313.318 36.4659C315.083 36.6639 316.865 36.8538 318.664 37.0356C347.137 39.8996 375.802 40.4126 404.361 38.5692C405.201 38.5267 406.047 38.4661 406.9 38.4055C435.152 36.439 463.19 32.1489 490.721 25.5798C492.505 25.1494 494.265 24.7433 496.018 24.3675C587.755 3.38331 672.325 74.9006 651.186 155.728C643.362 185.616 645.349 217.487 671.417 243.259C714.058 285.349 708.865 326.784 698.203 352.89Z",fill:"#222222"}}),e._v(" "),t("path",{attrs:{d:"M306.761 380.354L316.038 333.969H390.254L399.531 380.354H306.761Z",fill:"#CCCCCC"}}),e._v(" "),t("rect",{attrs:{x:"297.485",y:"376.875",width:"111.323",height:"3.47885",rx:"1.73942",fill:"#999999"}}),e._v(" "),t("g",{attrs:{filter:"url(#filter0_d_830_127442)"}},[t("rect",{attrs:{x:"176.885",y:"102.046",width:"352.523",height:"241.2",rx:"8",fill:"#CCCCCC"}})]),e._v(" "),t("path",{attrs:{d:"M182.885 110.046C182.885 108.942 183.78 108.046 184.885 108.046H521.408C522.512 108.046 523.408 108.942 523.408 110.046V300.139H182.885V110.046Z",fill:"#FAFAFA",stroke:"#999999","stroke-width":"12"}}),e._v(" "),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M125.862 299.249V315.415H135.138V299.248L165.665 277.444L160.273 269.895L135.138 287.848V245.838H125.862V287.848L100.727 269.895L95.3345 277.444L125.862 299.249Z",fill:"#CCCCCC"}}),e._v(" "),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M141.238 224.058C142.099 224.92 142.099 226.316 141.238 227.177L141.016 227.399C139.426 228.989 141.064 231.639 143.197 230.928C144.254 230.576 145.414 231.094 145.757 232.154C146.494 234.431 146.88 236.829 146.88 239.267V246.032C146.88 255.051 139.568 262.363 130.549 262.363C121.529 262.363 114.218 255.051 114.218 246.032V239.267C114.218 236.829 114.603 234.431 115.34 232.154C115.683 231.094 116.844 230.576 117.9 230.928C120.034 231.639 121.672 228.989 120.081 227.399L119.86 227.177C118.999 226.316 118.999 224.92 119.86 224.058L126.466 217.452C128.721 215.197 132.377 215.197 134.632 217.452L141.238 224.058ZM98.3805 261.57C98.3805 260.567 97.5673 259.754 96.5643 259.754H88.8705C86.2444 259.754 84.1155 261.883 84.1155 264.509V272.203C84.1155 273.206 84.9286 274.019 85.9317 274.019H86.1898C88.0421 274.019 88.6315 276.516 86.9748 277.344C86.1544 277.755 85.7805 278.732 86.1977 279.549C87.0944 281.304 88.2665 282.925 89.6863 284.345L93.6255 288.284C98.8777 293.536 107.393 293.536 112.646 288.284C117.898 283.032 117.898 274.516 112.646 269.264L108.706 265.325C107.287 263.905 105.665 262.733 103.91 261.836C103.093 261.419 102.116 261.793 101.706 262.613C100.877 264.27 98.3805 263.681 98.3805 261.828V261.57ZM175.068 274.019C176.072 274.019 176.885 273.206 176.885 272.203V264.509C176.885 261.883 174.756 259.754 172.13 259.754H164.436C163.433 259.754 162.62 260.567 162.62 261.57V261.828C162.62 263.681 160.123 264.27 159.294 262.613C158.884 261.793 157.907 261.419 157.09 261.836C155.335 262.733 153.714 263.905 152.294 265.325L148.355 269.264C143.102 274.516 143.102 283.032 148.355 288.284C153.607 293.536 162.122 293.536 167.375 288.284L171.314 284.345C172.734 282.925 173.906 281.304 174.802 279.549C175.22 278.732 174.846 277.755 174.025 277.344C172.369 276.516 172.958 274.019 174.81 274.019H175.068Z",fill:"#444444"}}),e._v(" "),t("path",{attrs:{d:"M98.0308 317.415C98.0308 316.311 98.9262 315.415 100.031 315.415H160.969C162.074 315.415 162.969 316.311 162.969 317.415V324.03C162.969 324.471 162.933 324.911 162.86 325.345L153.971 378.683C153.81 379.647 152.976 380.354 151.998 380.354H109.002C108.024 380.354 107.19 379.647 107.029 378.683L98.1396 325.345C98.0672 324.911 98.0308 324.471 98.0308 324.03V317.415Z",fill:"#CCCCCC"}}),e._v(" "),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M539.844 330.49V339.767H546.802V330.49L564.196 313.096L559.558 308.458L546.802 321.213V293.383H539.844V321.213L527.088 308.458L522.45 313.096L539.844 330.49Z",fill:"#CCCCCC"}}),e._v(" "),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M550.84 271.34C551.442 271.941 551.442 272.915 550.84 273.516L550.684 273.671C549.571 274.78 550.718 276.629 552.211 276.133C552.951 275.887 553.763 276.249 554.003 276.988C554.519 278.576 554.789 280.25 554.789 281.951V286.67C554.789 292.962 549.671 298.063 543.357 298.063C537.044 298.063 531.926 292.962 531.926 286.67V281.951C531.926 280.25 532.195 278.576 532.711 276.988C532.952 276.249 533.764 275.887 534.503 276.133C535.997 276.629 537.143 274.78 536.03 273.671L535.875 273.516C535.272 272.915 535.272 271.941 535.875 271.34L540.499 266.732C542.078 265.159 544.637 265.159 546.215 266.732L550.84 271.34ZM520.84 298.669C520.84 297.97 520.27 297.402 519.568 297.402H514.183C512.344 297.402 510.854 298.888 510.854 300.72V306.087C510.854 306.787 511.423 307.354 512.125 307.354H512.306C513.603 307.354 514.015 309.096 512.856 309.674C512.281 309.96 512.019 310.642 512.312 311.212C512.939 312.436 513.76 313.567 514.754 314.558L517.511 317.306C521.188 320.97 527.148 320.97 530.825 317.306C534.502 313.642 534.502 307.701 530.825 304.037L528.068 301.289C527.074 300.298 525.939 299.481 524.71 298.855C524.138 298.564 523.454 298.825 523.167 299.397C522.587 300.553 520.84 300.142 520.84 298.85V298.669ZM574.521 307.354C575.223 307.354 575.792 306.787 575.792 306.087V300.72C575.792 298.888 574.302 297.402 572.464 297.402H567.078C566.376 297.402 565.807 297.97 565.807 298.669V298.85C565.807 300.142 564.059 300.553 563.479 299.397C563.192 298.825 562.508 298.564 561.936 298.855C560.707 299.481 559.573 300.298 558.579 301.289L555.821 304.037C552.145 307.701 552.145 313.642 555.821 317.306C559.498 320.97 565.459 320.97 569.135 317.306L571.893 314.558C572.887 313.567 573.707 312.436 574.335 311.212C574.627 310.642 574.365 309.96 573.791 309.674C572.631 309.096 573.044 307.354 574.34 307.354H574.521Z",fill:"#444444"}}),e._v(" "),t("path",{attrs:{d:"M524.769 341.767C524.769 340.663 525.665 339.767 526.769 339.767H559.877C560.982 339.767 561.877 340.663 561.877 341.767V344.406C561.877 344.847 561.841 345.287 561.768 345.722L556.854 375.204C556.694 376.168 555.859 376.875 554.882 376.875H531.765C530.787 376.875 529.953 376.168 529.792 375.204L524.878 345.722C524.806 345.287 524.769 344.847 524.769 344.406V341.767Z",fill:"#CCCCCC"}}),e._v(" "),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M386.366 240.533C387.255 241.422 388.697 241.422 389.587 240.533C390.476 239.644 390.476 238.202 389.587 237.312L319.926 167.652C319.037 166.762 317.595 166.762 316.705 167.652C315.816 168.541 315.816 169.983 316.705 170.873L327.15 181.317H324.705C320.287 181.317 316.706 184.988 316.706 189.516V218.669C316.706 223.197 320.287 226.868 324.705 226.868H360.257C363.587 226.868 366.443 224.781 367.646 221.814L386.366 240.533ZM380.185 219.58C378.995 219.58 377.824 219.308 376.757 218.789L339.286 181.317H360.257C364.674 181.317 368.256 184.988 368.256 189.516V193.4C368.256 194.128 369.047 194.562 369.638 194.158L375.748 189.982C377.062 189.084 378.606 188.605 380.185 188.605H385.143C387.597 188.605 389.587 190.645 389.587 193.16V215.025C389.587 217.54 387.597 219.58 385.143 219.58H380.185Z",fill:"var(--c-color-primary-100)"}})]),e._v(" "),t("defs",[t("filter",{attrs:{id:"filter0_d_830_127442",x:"144.885",y:"78.0463",width:"416.523",height:"305.2",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[t("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),e._v(" "),t("feColorMatrix",{attrs:{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}}),e._v(" "),t("feOffset",{attrs:{dy:"8"}}),e._v(" "),t("feGaussianBlur",{attrs:{stdDeviation:"16"}}),e._v(" "),t("feColorMatrix",{attrs:{type:"matrix",values:"0 0 0 0 0.133333 0 0 0 0 0.133333 0 0 0 0 0.133333 0 0 0 0.08 0"}}),e._v(" "),t("feBlend",{attrs:{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_830_127442"}}),e._v(" "),t("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_830_127442",result:"shape"}})],1)])])}),[],!1,null,null,null).exports,v=r(1100),C=r(139),x=r(1768),y=r(1034),w=r(1110),_=r(394),k=r(1016),O=r(1061);function M(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,a){if(e){if("string"==typeof e)return S(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,c=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw c}}}}function S(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=Array(a);t<a;t++)r[t]=e[t];return r}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j={components:{CIcon:c.r,CButton:c.b,CDropdownSmall:c.o,ClassContentEmptyState:h,ForumDrawer:x.a,VideoPlayer:y.a,ModalUncleanComment:w.a,LogoMini:_.a,Tooltip:k.a},data:function(){return{loading:!1,currentVersion:null,courseVersions:[],course:null,isAulaExpanded:{},currentAula:null,isForumOpen:!1,showUncleanCommentModal:!1,currentMaterial:null}},head:function(){var e;return{title:(null===(e=this.course)||void 0===e?void 0:e.title)||"Curso"}},computed:$($({},Object(l.c)("layout",["isLeftMenuVisible"])),{},{verticalTitle:function(){return C.a[this.$vertical]},isMarketplace:function(){var e,t,r;return(null===(e=this.course)||void 0===e?void 0:e.marketplace)&&(null===(t=this.course)||void 0===t||null===(r=t.teachers)||void 0===r?void 0:r.length)},marketplaceTagTitle:function(){return this.isMarketplace?"PROFESSOR PARCEIRO":"CURSO DO ESTRATÉGIA"},marketplaceTooltipText:function(){return this.isMarketplace?"Este conteúdo foi criado por um professor parceiro do Estratégia ".concat(this.verticalTitle,"."):"Este conteúdo foi criado pelo time do Estratégia ".concat(this.verticalTitle,".")},isCourseFavorited:function(){var e;return null===(e=this.course)||void 0===e?void 0:e.is_my_course},isCourseDone:function(){var e;return null===(e=this.course)||void 0===e?void 0:e.is_completed},iframeSrc:function(){return"".concat(this.currentMaterial.data,"#toolbar=0")},checkAvailableOffersRedirect:function(){var e,t,r;if("goal"===(null===(e=this.$route.query)||void 0===e?void 0:e.from_type)&&null!==(t=this.$route.query)&&void 0!==t&&t.from_id){var n=new URLSearchParams;return n.append("view","goal"),n.append("goalId",this.$route.query.from_id),n.append("scrollToRelatedProductsSection","true"),n.append("plg_view","true"),"/meus-cursos/?".concat(n.toString())}var o=new URLSearchParams;return o.append("search",null===(r=this.course)||void 0===r?void 0:r.title),o.append("entities","ldis"),o.append("entities","goals"),o.append("entities","courses"),o.append("type","goals"),"/meus-cursos/resultado-pesquisa/?".concat(o.toString())}}),mounted:function(){this.onInit()},unmounted:function(){this.onExit()},activated:function(){this.onInit()},deactivated:function(){this.onExit()},methods:$($($({onInit:Object(d.debounce)(Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n,o,c,l,d,f,m,h,v,C,x,y,w,_,k,O,M=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("keypress",this.keyPressDownloadHandle),this.loading=!0,this.setLeftMenuVisible(!1),e.prev=3,this.course=null,e.next=7,this.$services.courses.getCourseInternal(this.$route.params.slug,this.$route.query);case 7:if((r=e.sent).teachers=this.getDistinctTeachers(r),r.avatars=r.teachers.slice(),this.courseVersions=(r.versions||[]).map((function(e){return $($({},e),{},{value:e.version,label:e.version})})),this.currentVersion=this.courseVersions.find((function(e){return e.value===(null==r?void 0:r.version)})),this.addToRecentActivities(this.courseVersions[0]),r.classes||(r.classes=[]),r.classes.forEach((function(e){var t,r,n,o,c,l,d,f,m,h;(e.contents||(e.contents=[]),null!==(t=e.contents_file)&&void 0!==t&&t.length||null!==(r=e.resources)&&void 0!==r&&null!==(n=r.content)&&void 0!==n&&n.length)&&e.contents.unshift({id:"_contents_file",type:"pdf",category:"content",name:"Material da aula",data:e.contents_file||(null===(h=e.resources)||void 0===h?void 0:h.content),has_access:e.has_access});null!==(o=e.resources)&&void 0!==o&&null!==(c=o.resume)&&void 0!==c&&c.length&&e.contents.push({id:"_resumo",type:"pdf",category:"resume",name:"Resumo",data:e.resources.resume,has_access:e.has_access}),null!==(l=e.resources)&&void 0!==l&&null!==(d=l.slides)&&void 0!==d&&d.length&&e.contents.push({id:"_slide",type:"pdf",category:"slide",name:"Slides",data:e.resources.slides,has_access:e.has_access}),null!==(f=e.resources)&&void 0!==f&&null!==(m=f.map)&&void 0!==m&&m.length&&e.contents.push({id:"_mind-map",type:"pdf",category:"mind-map",name:"Mapa Mental",data:e.resources.map,has_access:e.has_access}),e.contents.forEach((function(e){if(e.currentTime=0,e.progress="0%","video"===e.type&&e.has_access){var t=M.getVideoStats(e);e.currentTime=t.currentTime||0,e.progress=t.progress||"0%"}M.setMaterialIcon(e)})),!M.hasContentType(e,"video")&&e.date_preview_video&&(e.formatted_date_preview_video=M.formatPreviewDate(e.date_preview_video,"Vídeo disponível em: ")),!M.hasContentType(e,"pdf")&&e.date_preview_pdf&&(e.formatted_date_preview_pdf=M.formatPreviewDate(e.date_preview_pdf,"PDF disponível em: ")),e.gruposDeMateriais=[{name:"Videoaulas",contents:[],expanded:!1},{name:"Livros digitais",contents:[],expanded:!1},{name:"Resumos",contents:[],expanded:!1},{name:"Slides",contents:[],expanded:!1},{name:"Mapas mentais",contents:[],expanded:!1}],e.contents.forEach((function(t){if("video"===t.type&&e.gruposDeMateriais[0].contents.push(t),"pdf"===t.type)switch(t.category){case"content":e.gruposDeMateriais[1].contents.push(t);break;case"resume":e.gruposDeMateriais[2].contents.push(t);break;case"slide":e.gruposDeMateriais[3].contents.push(t);break;case"mind-map":e.gruposDeMateriais[4].contents.push(t)}})),e.gruposDeMateriais.sort((function(a,b){var e,t,r,n,o,c;return(null==a||null===(e=a.contents)||void 0===e?void 0:e.length)>0&&(null==b||null===(t=b.contents)||void 0===t?void 0:t.length)>0?0:(null==a||null===(r=a.contents)||void 0===r?void 0:r.length)<(null==b||null===(n=b.contents)||void 0===n?void 0:n.length)?1:(null==a||null===(o=a.contents)||void 0===o?void 0:o.length)>(null==b||null===(c=b.contents)||void 0===c?void 0:c.length)?-1:0}))})),this.course=r,this.isAulaExpanded=r.classes.reduce((function(e,t){return e[t.id]=!1,e}),{}),this.loadLastSeenMaterial(r),!this.$route.query.lesson_id){e.next=29;break}if(!(n=r.classes.find((function(e){return e.id===M.$route.query.lesson_id})))){e.next=29;break}if(this.currentAula!==n&&(this.currentAula=n,this.currentMaterial=null),!this.$route.query.content_id){e.next=27;break}return(o=n.contents.find((function(e){return e.id===M.$route.query.content_id||e.content_id===M.$route.query.content_id})))&&o.has_access&&(this.currentMaterial=o,this.downloadMaterial(o)),e.next=27,this.removeQueryString("content_id");case 27:this.$route.query.material_id&&(c=n.contents.find((function(e){return e.id===M.$route.query.material_id})))&&c.has_access&&(this.currentMaterial=c),this.$route.query.comment_id&&n.forum_enabled&&this.hasContents(n)&&(this.isForumOpen=!0);case 29:if(this.currentAula||(this.currentAula=null===(l=r.classes)||void 0===l?void 0:l.find((function(e){return e.has_access}))),this.currentAula&&!this.currentMaterial&&(d=this.currentAula.gruposDeMateriais.find((function(e){return e.contents.some((function(e){return e.has_access}))})))&&(this.currentMaterial=d.contents[0]),this.updateQueryString(),!this.currentAula){e.next=35;break}return e.next=35,this.toggleAulaExpanded(this.currentAula);case 35:"video"===(null===(t=this.currentMaterial)||void 0===t?void 0:t.type)&&this.setVideoCurrentTime(this.currentMaterial.currentTime),e.next=55;break;case 38:if(e.prev=38,e.t0=e.catch(3),console.log(e.t0),403!==(null===(f=e.t0.response)||void 0===f?void 0:f.status)){e.next=44;break}return this.$router.push("/cursos"),e.abrupt("return");case 44:if(C="Erro ao carregar informações do curso",x=!1,(y=null===(m=e.t0.response)||void 0===m||null===(h=m.data)||void 0===h||null===(v=h.error)||void 0===v?void 0:v.tag)&&("COURSE_DELETED_ERROR"===y&&(C="Curso não está disponível",x=!0),"COURSE_NOT_PUBLISHED_ERROR"===y&&(C="Curso não está publicado",x=!0)),this.$toast.show({type:"error",text:C,handler:function(){return M.$toast.hide()}}),!x){e.next=55;break}if(!(O=null===(w=e.t0.response)||void 0===w||null===(_=w.data)||void 0===_||null===(k=_.meta)||void 0===k?void 0:k.id)){e.next=54;break}return e.next=54,Promise.all([this.$services.courses.removeFromMyCourses(O).catch((function(){})),this.$services.studyTable.hideRecentActivities(O).catch((function(){}))]);case 54:this.goToCoursesList().then((function(){return M.$router.go()}));case 55:this.loading=!1,this.$wootric.CES({product:{type:"course"}});case 57:case"end":return e.stop()}}),e,this,[[3,38]])}))),200),onExit:function(){window.removeEventListener("keypress",this.keyPressDownloadHandle),this.setLeftMenuVisible(!0)}},Object(l.b)("downloads",["queueDownload"])),Object(l.d)("layout",["setLeftMenuVisible"])),{},{hasContentType:function(e,t){var r,n=M(e.contents);try{for(n.s();!(r=n.n()).done;){if(r.value.type===t)return!0}}catch(e){n.e(e)}finally{n.f()}return!1},loadLastSeenMaterial:function(e){this.currentAula=null,this.currentMaterial=null;try{var t,r=localStorage.getItem("course-".concat(e.id,"-last-seen-material")),n=JSON.parse(r),o=n.materialId,c=n.aulaId,l=M(e.classes);try{for(l.s();!(t=l.n()).done;){var d=t.value;if(d.id===c&&d.has_access){var f,m=M(d.gruposDeMateriais);try{for(m.s();!(f=m.n()).done;){var h,v=f.value,C=M(v.contents);try{for(C.s();!(h=C.n()).done;){var x=h.value;if(x.id===o&&x.has_access)return this.currentAula=d,this.currentMaterial=x,void this.toggleGrupoExpanded(v,d)}}catch(e){C.e(e)}finally{C.f()}}}catch(e){m.e(e)}finally{m.f()}}}}catch(e){l.e(e)}finally{l.f()}}catch(e){}},formatPreviewDate:function(e,label){if(e){var t=new Date;if(t.setHours(0,0,0,0),new Date(e)>t)return label+Object(O.b)(e)}return null},hasContents:function(e){var t;return!(null==e||null===(t=e.contents)||void 0===t||!t.length)},getDistinctTeachers:function(e){var t={};return((null==e?void 0:e.teachers)||[]).forEach((function(e){t[e.id]=e})),Object.values(t)},nameIconTeachers:function(e){var t=this.getDistinctTeachers(e).length;return 1===t?"user":2===t?"group":"team"},teachersLengthText:function(e){var t,r=this.getDistinctTeachers(e).length,n=null===(t=this.course.authors)||void 0===t?void 0:t.length;return 1===r?e.teachers[0].name:r>1?"".concat(r," professores"):1===n?this.course.authors[0].name:n>1?"".concat(n," professores"):"Time Estratégia"},limitText:function(){var input=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return input.length<=e?input:input.slice(0,150)+"..."},addToRecentActivities:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!=e&&e.id){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,t.$services.studyTable.createOrUpdateRecentActivities({id:e.id,title:e.title,tag:e.tag,teachers:e.teachers||[],type:"course",slug:e.slug,banner_img:e.banner_img,cover_img:e.cover_img,marketplace:e.marketplace});case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),console.warn("Could not insert to recent activities:",r.t0);case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()},toggleCourseIsFavorite:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,r=new Date,!e.isCourseFavorited){t.next=7;break}return t.next=5,e.$services.courses.removeFromMyCourses(e.course.id);case 5:t.next=9;break;case 7:return t.next=9,e.$services.courses.addToMyCourses(e.course);case 9:return e.course.is_my_course=!e.isCourseFavorited,e.saveOffline(),t.next=13,e.minSecondsSince(1.5,r);case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t)})))()},toggleCourseIsDone:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,r=new Date,!e.isCourseDone){t.next=7;break}return t.next=5,e.$services.courses.markCourseAsNotDone(e.course.id);case 5:t.next=9;break;case 7:return t.next=9,e.$services.courses.markCourseAsDone(e.course.id);case 9:return e.course.is_completed=!e.isCourseDone,e.saveOffline(),t.next=13,e.minSecondsSince(1.5,r);case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t)})))()},toggleAulaIsDone:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.hasContents(e)){r.next=2;break}return r.abrupt("return");case 2:if(t.loading=!0,n=new Date,!e.is_completed){r.next=9;break}return r.next=7,t.$services.courses.unmarkCourseClassAsDone(e.id);case 7:r.next=11;break;case 9:return r.next=11,t.$services.courses.markCourseClassAsDone(e.id);case 11:return e.is_completed=!e.is_completed,r.next=14,t.minSecondsSince(1.5,n);case 14:t.loading=!1;case 15:case"end":return r.stop()}}),r)})))()},emitTeacherEvaluation:function(e){if(1===Object(v.b)(this.getDistinctTeachers(e)).length){var t,r=null===(t=this.course.categories)||void 0===t?void 0:t.find((function(e){var t;return null===(t=e.path_name)||void 0===t?void 0:t.includes("Matérias")}));this.$wootric.CSAT({product:{teacher:e.teachers[0].id,title:this.course.title,class:e.title,category:(null==r?void 0:r.name)||null,type:"course"},csatType:"teacher"})}},goToVersion:function(e){var t;(null==e?void 0:e.value)!==(null===(t=this.currentVersion)||void 0===t?void 0:t.value)&&null!=e&&e.slug&&(location.href="/meus-cursos/".concat(e.slug))},toggleAulaExpanded:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.isAulaExpanded[e.id]){r.next=4;break}t.isAulaExpanded[e.id]=!1,r.next=8;break;case 4:return Object.keys(t.isAulaExpanded).forEach((function(r){t.isAulaExpanded[r]=r===e.id})),e.gruposDeMateriais.every((function(g){return!g.expanded}))&&(n=e.gruposDeMateriais.find((function(g){return g.contents.length})))&&(n.expanded=!0),r.next=8,t.scrollToAula(e);case 8:t.currentAula=e;case 9:case"end":return r.stop()}}),r)})))()},toggleLeftMenu:function(){this.setLeftMenuVisible(!this.isLeftMenuVisible)},setMaterialIcon:function(e){var t={};if("video"===(null==e?void 0:e.type)){var video=this.videoElement();e===this.currentMaterial&&video&&!video.paused?t.name="pause-mini":t.name="play",t.size=33,t.style="margin-left: 0.24rem; margin-top: -0.2rem;"}else"pdf"===(null==e?void 0:e.type)?(t.name="file-pdf",t.size=27,t.style="margin-left: 0.48rem;"):(t.name="article",t.size=27,t.style="margin-left: 0.45rem;");e.icon=t},togglePlayer:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var video;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$nextTick();case 2:if("video"===e.type&&t.videoElement()){r.next=4;break}return r.abrupt("return");case 4:video=t.videoElement(),t.controlVideoPlayback(video),t.refreshIconVideos();case 7:case"end":return r.stop()}}),r)})))()},controlVideoPlayback:function(video){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!video.paused){t.next=5;break}return t.next=3,e.tryPlayVideo(video);case 3:t.next=6;break;case 5:video.pause();case 6:case"end":return t.stop()}}),t)})))()},tryPlayVideo:function(video){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=document.querySelector(".vjs-big-play-button"))){t.next=4;break}return r.click(),t.abrupt("return");case 4:return t.prev=4,t.next=7,video.play();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),e.handlePlayError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[4,9]])})))()},handlePlayError:function(e){"AbortError"===e.name||this.$toast.show({type:"error",text:"Erro ao reproduzir vídeo"})},refreshIconVideos:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:e.course.classes.forEach((function(t){t.contents.forEach((function(t){"video"===t.type&&e.setMaterialIcon(t)}))}));case 3:case"end":return t.stop()}}),t)})))()},updateQueryString:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.currentAula||e.currentAula.id===e.$route.query.lesson_id){t.next=3;break}return t.next=3,e.setQueryString("lesson_id",e.currentAula.id);case 3:if(!e.currentMaterial||e.currentMaterial.id===e.$route.query.material_id){t.next=6;break}return t.next=6,e.setQueryString("material_id",e.currentMaterial.id);case 6:case"end":return t.stop()}}),t)})))()},selectMaterial:function(e,t){if(e.has_access)if(this.currentMaterial!==e){if(this.currentMaterial=e,this.currentAula=t,this.updateQueryString(),t.teachers&&t.teachers.length>0&&this.emitTeacherEvaluation(t),localStorage.setItem("course-".concat(this.course.id,"-last-seen-material"),JSON.stringify({materialId:e.id,aulaId:t.id})),"video"===e.type){var r=this.getVideoStats(e);this.setVideoCurrentTime(r.currentTime),this.togglePlayer(e)}}else this.togglePlayer(e)},getTeacherName:function(e,t){var r=((null==t?void 0:t.teachers)||[]).find((function(t){return t.id===e.teacher_id}));return null==r?void 0:r.name},downloadMaterial:function(e){e.has_access&&(this.queueDownload({url:e.data,name:(e.name||"Material Estratégia").replaceAll(".",""),options:{mimeType:"video"===e.type?"video/mp4":"application/pdf"}}),this.$services.courses.createEventLog({type:"download_"+e.type,target:e.data,location:window.location,course_id:this.course.id}))},minSecondsSince:function(e,t){return new Promise((function(r){return setTimeout(r,1e3*e-(new Date-t))}))},saveOffline:function(){localStorage.setItem("course-".concat(this.course.id),JSON.stringify(this.course))},goToCoursesList:function(){var e=this;this.setLeftMenuVisible(!0);var t=localStorage.getItem("coursePageOpenedFrom")||"/meus-cursos";return new Promise((function(r,n){return e.$router.push(t,r,n)}))},getVideoStats:function(e){var t=localStorage.getItem("video-".concat(e.id,"-stats"));if(!t)return{currentTime:0,progress:"0%"};var r=JSON.parse(t),n=r.total,o=r.watched;return{currentTime:o,progress:Math.floor(o/n*100)+"%"}},updateCurrentVideoStats:function(){var video=this.videoElement();video&&(localStorage.setItem("video-".concat(this.currentMaterial.id,"-stats"),JSON.stringify({watched:video.currentTime,total:video.duration})),this.currentMaterial.progress=this.getVideoStats(this.currentMaterial).progress)},setVideoCurrentTime:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var video;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$nextTick();case 2:(video=t.videoElement())&&(video.currentTime=e||0);case 4:case"end":return r.stop()}}),r)})))()},toggleGrupoExpanded:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.hasContents(e)){n.next=2;break}return n.abrupt("return");case 2:if(!e.expanded){n.next=6;break}e.expanded=!1,n.next=9;break;case 6:return t.gruposDeMateriais.forEach((function(g){g.expanded=g===e})),n.next=9,r.scrollToAula(t);case 9:case"end":return n.stop()}}),n)})))()},scrollToAula:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$nextTick();case 2:n=t.course.classes.indexOf(e),o=document.querySelector("#right-panel > div:nth-child(".concat(n+1,")")),c=document.querySelector("#right-panel"),80,c.scrollTop=o.offsetTop-80;case 7:case"end":return r.stop()}}),r)})))()},videoElement:function(){var e;return null!==(e=this.$refs.video)&&void 0!==e&&e.$el?this.$refs.video.$el.querySelector("video"):null},handleCloseForumComments:function(){this.isForumOpen=!1,this.$route.query.comment_id&&this.removeQueryString("comment_id")},keyPressDownloadHandle:function(e){var t;null!==(t=document.querySelector(":focus"))&&void 0!==t&&t.contentEditable||this.currentMaterial&&"pdf"===this.currentMaterial.type&&"Enter"===e.key&&this.downloadMaterial(this.currentMaterial)},setQueryString:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=$($({},r.$route.query),{},Object(o.a)({},e,t)),n.next=3,r.$router.replace({query:c}).catch();case 3:case"end":return n.stop()}}),n)})))()},removeQueryString:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return delete(n=$({},t.$route.query))[e],r.next=4,t.$router.replace({query:n}).catch();case 4:case"end":return r.stop()}}),r)})))()},showCheckOffersLink:function(e){return!e.has_access}})},T=j,E=(r(2853),{components:{RegularCourseInternal:Object(m.a)(T,(function(){var e=this,t=e._self._c;return e.course?t("div",{staticClass:"flex flex-col h-full"},[t("div",{staticClass:"flex flex-row justify-between items-center mr-14 ml-6 py-2"},[t("div",{staticClass:"flex flex-row items-center"},[t("div",{staticClass:"p-2 cursor-pointer flex flex-row h-16",on:{click:function(){return e.toggleLeftMenu()}}},[e.isLeftMenuVisible?e._e():t("logo-mini",{staticClass:"mr-2",attrs:{width:18}}),e._v(" "),t("c-icon",{attrs:{name:e.isLeftMenuVisible?"arrow-left-chevron":"arrow-right-chevron",color:"var(--c-color-primary-300)",size:35}})],1),e._v(" "),t("div",{staticClass:"py-1 px-3 text-sm font-semibold cursor-pointer border-2 mr-4 border-gray rounded-md",on:{click:function(){return e.goToCoursesList()}}},[e._v("\n        Voltar\n      ")]),e._v(" "),t("div",{staticClass:"text-xl font-semibold mr-4"},[e._v("\n        "+e._s(e.course.title)+"\n      ")]),e._v(" "),e.courseVersions.length&&e.currentVersion?t("div",[t("c-dropdown-small",{attrs:{"max-height":!0,options:e.courseVersions,value:e.currentVersion},on:{change:function(t){return e.goToVersion(t)}}})],1):e._e()]),e._v(" "),t("div",{staticClass:"flex flex-row"},[e.loading?t("div",{staticClass:"mr-5 cursor-pointer loading loading-icon"}):t("tooltip",{staticClass:"pl-1 mr-5 cursor-pointer",attrs:{title:e.isCourseDone?"Curso concluído":"Marcar como concluído"},on:{click:function(){return e.toggleCourseIsDone()}}},[t("c-icon",{attrs:{name:e.isCourseDone?"check-box-circle-fill":"check-box-circle",color:e.isCourseDone?"var(--c-color-primary-300)":"var(--c-color-gray-300)",size:30}})],1),e._v(" "),e.loading?t("div",{staticClass:"mr-5 cursor-pointer loading loading-icon"}):t("tooltip",{staticClass:"pl-1 cursor-pointer",attrs:{title:e.isCourseFavorited?"Curso favoritado":"Marcar como favorito"},on:{click:function(){return e.toggleCourseIsFavorite()}}},[t("c-icon",{attrs:{name:e.isCourseFavorited?"heart-fill":"heart",color:e.isCourseFavorited?"var(--c-color-primary-300)":"var(--c-color-gray-300)",size:30}})],1)],1)]),e._v(" "),t("div",{staticClass:"flex-1 flex flex-row bg-white"},[t("div",{staticClass:"flex-1 flex flex-col bg-black",staticStyle:{height:"calc(100vh - 80px)"}},[e.currentMaterial&&"video"===e.currentMaterial.type?t("video-player",{key:e.currentMaterial.id,ref:"video",staticClass:"w-full h-full flex-1 flex",attrs:{video:e.currentMaterial},on:{play:function(){return e.refreshIconVideos()},paused:function(){return e.refreshIconVideos()},"progress-update":function(){return e.updateCurrentVideoStats()},"on-download":function(){return e.downloadMaterial(e.currentMaterial)}}}):e.currentMaterial&&"pdf"===e.currentMaterial.type?t("iframe",{key:e.currentMaterial.id,staticClass:"w-full h-full flex-1",attrs:{src:e.iframeSrc,frameborder:"0"}}):e.loading?e._e():t("div",{staticClass:"text-sm w-full h-full flex items-center justify-center flex-col flex-1 bg-white"},[t("class-content-empty-state"),e._v(" "),t("div",{staticClass:"c-text-subtitle mt-4",staticStyle:{color:"var(--c-color-primary-100)"}},[e._v("\n          Esta aula ainda não possui nenhum material\n        ")])],1)],1),e._v(" "),t("div",{staticClass:"flex flex-col overflow-auto",staticStyle:{width:"500px",height:"calc(100vh - 80px)"},attrs:{id:"right-panel"}},e._l(e.course.classes,(function(r){return t("div",{key:r.id,staticClass:"px-6 border-t"},[t("div",{staticClass:"flex flex-col p-4"},[t("div",{staticClass:"flex flex-row justify-between items-center cursor-pointer",on:{click:function(){return e.toggleAulaExpanded(r)}}},[t("div",{staticClass:"text-2xl font-semibold mt-2 mr-4"},[e._v("\n              "+e._s(e.limitText(r.title,150))+"\n            ")]),e._v(" "),t("div",[t("c-icon",{attrs:{name:e.isAulaExpanded[r.id]?"arrow-up-chevron":"arrow-down-chevron",color:"#000",size:30}})],1)]),e._v(" "),t("div",{staticClass:"flex flex-row justify-between items-center mt-3 mb-1"},[t("div",{staticClass:"flex flex-row items-center"},[t("c-icon",{attrs:{name:e.nameIconTeachers(r),color:"#999",size:20}}),e._v(" "),t("div",{staticClass:"text-sm ml-1"},[e._v("\n                "+e._s(e.teachersLengthText(r))+"\n              ")])],1),e._v(" "),e.loading?t("div",{staticClass:"loading loading-aula-done"}):t("div",{staticClass:"flex items-center cursor-pointer",class:{"opacity-50":!e.hasContents(r),"cursor-not-allowed":!e.hasContents(r)},on:{click:function(t){return e.toggleAulaIsDone(r)}}},[t("div",{staticClass:"mr-2"},[e._v("\n                Concluído\n              ")]),e._v(" "),t("c-icon",{staticClass:"mr-1 icon-checkbox",attrs:{name:r.is_completed?"checkbox-fill":"checkbox-blank",color:r.is_completed?"var(--c-color-primary-300)":"var(--c-color-gray-300)",size:25}})],1)])]),e._v(" "),e.isAulaExpanded[r.id]?t("div",{staticClass:"flex flex-col mb-8 p-4 pt-0"},[r.description?t("div",{staticClass:"mb-4"},[e._v("\n            "+e._s(r.description)+"\n          ")]):e._e(),e._v(" "),e.currentAula&&e.currentAula.forum_enabled?t("div",{staticClass:"flex flex-row justify-center mb-3"},[t("c-button",{attrs:{outline:"",size:"md",color:"gray",full:"",disabled:!e.hasContents(r)},on:{click:function(){return e.isForumOpen=!0}}},[t("div",{staticClass:"flex items-center"},[t("div",{staticClass:"my-2"},[e._v("\n                  Fórum de dúvidas\n                ")]),e._v(" "),t("c-icon",{staticClass:"m-2 mt-0 mr-0",attrs:{name:"chat",color:"inherit",size:30}})],1)])],1):e._e(),e._v(" "),t("div",{staticClass:"flex flex-col items-center justify-center w-full"},[r.formatted_date_preview_video?t("div",{staticClass:"w-full h-6 flex items-center justify-center pill__container--opacity mb-4 text-white rounded-xl c-text-b2",staticStyle:{"background-color":"var(--c-color-primary-100)"}},[e._v("\n              "+e._s(r.formatted_date_preview_video)+"\n            ")]):e._e(),e._v(" "),r.formatted_date_preview_pdf?t("div",{staticClass:"w-full h-6 flex items-center justify-center pill__container--opacity text-white rounded-xl c-text-b2",staticStyle:{"background-color":"var(--c-color-primary-100)"}},[e._v("\n              "+e._s(r.formatted_date_preview_pdf)+"\n            ")]):e._e()]),e._v(" "),e._l(r.gruposDeMateriais,(function(n,o){return t("div",{key:o,staticClass:"flex flex-col mt-4 bg-gray rounded-lg overflow-hidden",class:{"opacity-50":!e.hasContents(n),"cursor-not-allowed":!e.hasContents(n)}},[t("div",{staticClass:"text-lg font-semibold p-4 border-b flex flex-row items-center cursor-pointer",on:{click:function(t){return e.toggleGrupoExpanded(n,r)}}},[t("div",{staticClass:"flex-1"},[e._v("\n                "+e._s(n.name)+" ("+e._s(n.contents.length)+")\n              ")]),e._v(" "),t("div",[t("c-icon",{staticClass:"ml-1",attrs:{name:n.expanded?"arrow-up-chevron":"arrow-down-chevron",color:"#000",size:22}})],1)]),e._v(" "),e._l(n.contents,(function(o){return t("div",{directives:[{name:"show",rawName:"v-show",value:n.expanded,expression:"grupo.expanded"}],key:o.id,class:{"current-material":e.currentMaterial===o,"flex flex-row items-center px-4 py-2":!0,"cursor-not-allowed":!o.has_access,"hover:bg-gray cursor-pointer":o.has_access}},[t("div",{class:{"rounded-full outer-icon-material m-2 flex items-center justify-center bg-gray":!0,"ui-opacity-50":!o.has_access},style:o.progress?"background: conic-gradient(var(--c-color-primary-200) ".concat(o.progress,", #bbb 0%);"):"",on:{click:function(){return e.selectMaterial(o,r)}}},[t("div",{staticClass:"rounded-full inner-icon-material bg-gray"},[t("c-icon",{staticClass:"ml-1",style:o.icon.style,attrs:{name:o.icon.name,color:"#333",size:o.icon.size}})],1)]),e._v(" "),t("div",{staticClass:"flex-1 mx-2 overflow-hidden flex flex-col",on:{click:function(){return e.selectMaterial(o,r)}}},[t("div",{class:{"text-sm font-semibold":!0,"ui-opacity-50":!o.has_access}},[e._v("\n                  "+e._s(o.name)+"\n                ")]),e._v(" "),t("div",{class:{"text-sm":!0,"ui-opacity-50":!o.has_access}},[e._v("\n                  "+e._s(o.has_access?e.getTeacherName(o,r):"Capítulo indisponível para teste")+"\n                ")]),e._v(" "),e.showCheckOffersLink(o)?t("div",{staticClass:"text-sm flex"},[t("a",{staticClass:"c-text-hyperlink c-text-primary-300",staticStyle:{"text-decoration":"none"},attrs:{href:e.checkAvailableOffersRedirect,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n                    Conferir ofertas disponíveis\n                  ")]),e._v(" "),t("c-icon",{staticStyle:{"margin-left":"0.625rem"},attrs:{name:"arrow-right-chevron",color:"var(--c-color-primary-300)",size:20}})],1):e._e()]),e._v(" "),t("div",{staticClass:"ml-2 rounded pl-1",style:{"background-color:":o.has_access?"var(--c-color-primary-300);":"var(--c-color-gray-300);",width:"2rem",height:"2rem"},on:{click:function(t){return e.downloadMaterial(o)}}},[t("c-icon",{attrs:{name:o.has_access?"download":"lock",color:"var(--c-color-gray-100)",size:20}})],1)])}))],2)}))],2):e._e()])})),0)]),e._v(" "),e.currentAula&&e.currentAula.forum_enabled?t("forum-drawer",{attrs:{"is-open":e.isForumOpen,"forum-id":e.currentAula.forum_id,"lesson-id":e.currentAula.id},on:{close:e.handleCloseForumComments,"unclean-comment":function(t){e.showUncleanCommentModal=!0}}}):e._e(),e._v(" "),e.showUncleanCommentModal?t("modal-unclean-comment",{on:{close:function(t){e.showUncleanCommentModal=!1}}}):e._e()],1):e._e()}),[],!1,null,"686fda50",null).exports},layout:"navigation",middleware:["authenticated","featureProtected","mobileProtected","accessRoleProtected"]}),A=Object(m.a)(E,(function(){return(0,this._self._c)("regular-course-internal")}),[],!1,null,null,null);t.default=A.exports}}]);